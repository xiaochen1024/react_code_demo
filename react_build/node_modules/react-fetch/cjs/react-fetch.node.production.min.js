/** @license React vundefined
 * react-fetch.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';var g=require("http"),h=require("https"),k=require("react/unstable-cache");function l(a,b,c,d){a=new URL(a);a=("https:"===a.protocol?h:g).request({hostname:a.hostname,port:a.port,path:a.pathname+a.search},function(a){c(new m(a))});a.on("error",function(a){d(a)});a.end()}var n={};function p(){var a=k.readCache().resources,b=a.get(n);void 0===b&&(b=new Map,a.set(n,b));return b}function q(a){if(1===a.status)return a.value;throw a.value;}
function m(a){this.headers=a.headers;this.ok=200<=a.statusCode&&300>a.statusCode;this.redirected=!1;this.status=a.statusCode;this.statusText=a.statusMessage;this.type="basic";this.url=a.url;this._response=a;this._text=this._json=this._blob=null;var b=[],c=this._result={status:0,value:{then:function(a){b.push(a)}}},d=[];a.on("data",function(a){return d.push(a)});a.on("end",function(){if(0===c.status)for(c.status=1,c.value=Buffer.concat(d);0<b.length;)b.pop()()});a.on("error",function(a){if(0===c.status)for(c.status=
2,c.value=a;0<b.length;)b.pop()()})}m.prototype={constructor:m,arrayBuffer:function(){return q(this._result)},blob:function(){throw Error("Not implemented.");},json:function(){var a=q(this._result);return JSON.parse(a.toString())},text:function(){return q(this._result).toString()}};
function r(a,b){var c=p(),d=c.get(a);if(!d){if(b&&(b.method||b.body||b.signal))throw Error("Unsupported option");var f=[],e=d={status:0,value:{then:function(a){f.push(a)}}};l(a,b,function(a){if(0===e.status)for(e.status=1,e.value=a;0<f.length;)f.pop()()},function(a){if(0===e.status)for(e.status=2,e.value=a;0<f.length;)f.pop()()});c.set(a,d)}return d}exports.fetch=function(a,b){a=r(a,b);return q(a)};exports.preload=function(a,b){r(a,b)};
